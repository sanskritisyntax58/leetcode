#include <vector>
using namespace std;

class Solution {
public:
    int numPairsDivisibleBy60(vector<int>& time) {
        vector<int> freq(60, 0); // freq[i] = number of songs with remainder i
        int count = 0;

        for (int t : time) {
            int remainder = t % 60;
            // Complement remainder needed to make a sum divisible by 60
            int complement = (60 - remainder) % 60;
            count += freq[complement]; // add all previous songs with that complement
            freq[remainder]++; // increment frequency of current remainder
        }

        return count;
    }
};
